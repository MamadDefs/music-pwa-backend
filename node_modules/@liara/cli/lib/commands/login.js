"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const chalk_1 = tslib_1.__importDefault(require("chalk"));
const core_1 = require("@oclif/core");
const base_1 = tslib_1.__importDefault(require("../base"));
const add_1 = tslib_1.__importDefault(require("./account/add"));
class Login extends base_1.default {
    async run() {
        const { flags } = await this.parse(Login);
        const sendFlag = [
            '--api-token',
            flags['api-token'] || '',
            '--email',
            flags.email || '',
            '--password',
            flags.password || '',
            '--from-login',
        ];
        if (flags.region) {
            sendFlag.push('--region', flags.region);
            this.log(`You're logging into "${flags.region}" region:`);
        }
        await add_1.default.run(sendFlag);
        this.log(chalk_1.default.green('You have logged in successfully.'));
    }
}
exports.default = Login;
Login.description = 'login to your account';
Login.flags = Object.assign(Object.assign({}, base_1.default.flags), { email: core_1.Flags.string({ char: 'e', description: 'your email' }), password: core_1.Flags.string({ char: 'p', description: 'your password' }) });
